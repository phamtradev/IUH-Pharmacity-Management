warning: in the working copy of 'src/main/java/vn/edu/iuh/fit/iuhpharmacitymanagement/gui/application/quanly/quanlynhacungcap/GD_QuanLyNhaCungCap.java', LF will be replaced by CRLF the next time Git touches it
[1mdiff --git a/src/main/java/vn/edu/iuh/fit/iuhpharmacitymanagement/gui/application/quanly/quanlynhacungcap/GD_QuanLyNhaCungCap.java b/src/main/java/vn/edu/iuh/fit/iuhpharmacitymanagement/gui/application/quanly/quanlynhacungcap/GD_QuanLyNhaCungCap.java[m
[1mindex f87cda8..b44157e 100644[m
[1m--- a/src/main/java/vn/edu/iuh/fit/iuhpharmacitymanagement/gui/application/quanly/quanlynhacungcap/GD_QuanLyNhaCungCap.java[m
[1m+++ b/src/main/java/vn/edu/iuh/fit/iuhpharmacitymanagement/gui/application/quanly/quanlynhacungcap/GD_QuanLyNhaCungCap.java[m
[36m@@ -2,17 +2,19 @@[m
  * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license[m
  * Click nbfs://nbhost/SystemFileSystem/Templates/GUIForms/JPanel.java to edit this template[m
  */[m
[31m-package vn.edu.iuh.fit.iuhpharmacitymanagement.gui.application.nhanvien.quanlynhacungcap;[m
[32m+[m[32mpackage vn.edu.iuh.fit.iuhpharmacitymanagement.gui.application.quanly.quanlynhacungcap;[m
 [m
 import com.formdev.flatlaf.FlatClientProperties;[m
 import com.formdev.flatlaf.extras.FlatSVGIcon;[m
 import java.util.Arrays;[m
 import java.util.List;[m
[32m+[m[32mimport raven.toast.Notifications;[m
 import javax.swing.BorderFactory;[m
 import javax.swing.JTextField;[m
 import javax.swing.UIManager;[m
 import javax.swing.table.DefaultTableModel;[m
 import vn.edu.iuh.fit.iuhpharmacitymanagement.common.TableDesign;[m
[32m+[m[32mimport vn.edu.iuh.fit.iuhpharmacitymanagement.bus.NhaCungCapBUS;[m
 [m
 /**[m
  *[m
[36m@@ -20,12 +22,53 @@[m [mimport vn.edu.iuh.fit.iuhpharmacitymanagement.common.TableDesign;[m
  */[m
 public class GD_QuanLyNhaCungCap extends javax.swing.JPanel {[m
 [m
[32m+[m[32m    private final NhaCungCapBUS nhaCungCapBUS;[m
     private TableDesign tableDesign;[m
 [m
     public GD_QuanLyNhaCungCap() {[m
[32m+[m[32m        this.nhaCungCapBUS = new NhaCungCapBUS();[m
         initComponents();[m
         setUIManager();[m
         fillTable();[m
[32m+[m[32m        setupModalSize();[m
[32m+[m[32m    }[m
[32m+[m[41m    [m
[32m+[m[32m    private void setupModalSize() {[m
[32m+[m[32m        // TƒÉng k√≠ch th∆∞·ªõc modal l√™n 900x800[m
[32m+[m[32m        modelSupplierAdd.setSize(900, 800);[m
[32m+[m[32m        modelSupplierEdit.setSize(900, 800);[m
[32m+[m[41m        [m
[32m+[m[32m        // Th√™m ti√™u ƒë·ªÅ ƒë·∫πp cho modal[m
[32m+[m[32m        modelSupplierAdd.setTitle("TH√äM NH√Ä CUNG C·∫§P M·ªöI");[m
[32m+[m[32m        modelSupplierEdit.setTitle("C·∫¨P NH·∫¨T TH√îNG TIN NH√Ä CUNG C·∫§P");[m
[32m+[m[41m        [m
[32m+[m[32m        // Lo·∫°i b·ªè vi·ªÅn th·ª´a c·ªßa panel trong modal[m
[32m+[m[32m        jPanel7.putClientProperty(FlatClientProperties.STYLE, "background:#F8F9FA;border:0,0,0,0");[m
[32m+[m[32m        jPanel8.putClientProperty(FlatClientProperties.STYLE, "background:#F8F9FA;border:0,0,0,0");[m
[32m+[m[41m        [m
[32m+[m[32m        // Style cho buttons trong modal Add - gi·ªëng modal Qu·∫£n l√Ω Kh√°ch h√†ng[m
[32m+[m[32m        btnSupplierAdd.putClientProperty(FlatClientProperties.STYLE, ""[m
[32m+[m[32m                + "arc:10");[m
[32m+[m[41m        [m
[32m+[m[32m        btnSupplierExit.putClientProperty(FlatClientProperties.STYLE, ""[m
[32m+[m[32m                + "background:#5C6BC0;"[m
[32m+[m[32m                + "foreground:#FFFFFF;"[m
[32m+[m[32m                + "hoverBackground:#4A5AB3;"[m
[32m+[m[32m                + "pressedBackground:#3949AB;"[m
[32m+[m[32m                + "arc:10;"[m
[32m+[m[32m                + "borderWidth:0");[m
[32m+[m[41m        [m
[32m+[m[32m        // Style cho buttons trong modal Edit - gi·ªëng modal Qu·∫£n l√Ω Kh√°ch h√†ng[m
[32m+[m[32m        btnSupplierEdit.putClientProperty(FlatClientProperties.STYLE, ""[m
[32m+[m[32m                + "arc:10");[m
[32m+[m[41m        [m
[32m+[m[32m        btnSupplierExit2.putClientProperty(FlatClientProperties.STYLE, ""[m
[32m+[m[32m                + "background:#5C6BC0;"[m
[32m+[m[32m                + "foreground:#FFFFFF;"[m
[32m+[m[32m                + "hoverBackground:#4A5AB3;"[m
[32m+[m[32m                + "pressedBackground:#3949AB;"[m
[32m+[m[32m                + "arc:10;"[m
[32m+[m[32m                + "borderWidth:0");[m
     }[m
 [m
     private void setUIManager() {[m
[36m@@ -74,9 +117,24 @@[m [mpublic class GD_QuanLyNhaCungCap extends javax.swing.JPanel {[m
     }[m
 [m
     private void loadSampleData() {[m
[31m-        // Kh√¥ng load data, ch·ªâ ƒë·ªÉ tr·ªëng[m
         DefaultTableModel model = tableDesign.getModelTable();[m
         model.setRowCount(0);[m
[32m+[m[41m        [m
[32m+[m[32m        try {[m
[32m+[m[32m            List<vn.edu.iuh.fit.iuhpharmacitymanagement.entity.NhaCungCap> danhSachNCC = nhaCungCapBUS.layTatCaNhaCungCap();[m
[32m+[m[32m            for (vn.edu.iuh.fit.iuhpharmacitymanagement.entity.NhaCungCap ncc : danhSachNCC) {[m
[32m+[m[32m                model.addRow(new Object[]{[m
[32m+[m[32m                    ncc.getMaNhaCungCap(),[m
[32m+[m[32m                    ncc.getTenNhaCungCap(),[m
[32m+[m[32m                    ncc.getDiaChi(),[m
[32m+[m[32m                    ncc.getSoDienThoai(),[m
[32m+[m[32m                    ncc.getEmail(),[m
[32m+[m[32m                    ncc.getMaSoThue()[m
[32m+[m[32m                });[m
[32m+[m[32m            }[m
[32m+[m[32m        } catch (Exception e) {[m
[32m+[m[32m            Notifications.getInstance().show(Notifications.Type.ERROR, Notifications.Location.TOP_CENTER, 3000, "L·ªói khi load d·ªØ li·ªáu: " + e.getMessage());[m
[32m+[m[32m        }[m
     }[m
 [m
     // Helper method ƒë·ªÉ clear nhi·ªÅu text field c√πng l√∫c[m
[36m@@ -132,6 +190,7 @@[m [mpublic class GD_QuanLyNhaCungCap extends javax.swing.JPanel {[m
         actionPanel = new javax.swing.JPanel();[m
         btnAdd = new javax.swing.JButton();[m
         btnUpdate = new javax.swing.JButton();[m
[32m+[m[32m        btnDelete = new javax.swing.JButton();[m
         jPanel4 = new javax.swing.JPanel();[m
         SupplierScroll = new javax.swing.JScrollPane();[m
 [m
[36m@@ -528,6 +587,22 @@[m [mpublic class GD_QuanLyNhaCungCap extends javax.swing.JPanel {[m
         });[m
         actionPanel.add(btnUpdate);[m
 [m
[32m+[m[32m        btnDelete.setBackground(new java.awt.Color(220, 53, 69));[m
[32m+[m[32m        btnDelete.setFont(new java.awt.Font("Segoe UI", 1, 14)); // NOI18N[m
[32m+[m[32m        btnDelete.setForeground(new java.awt.Color(255, 255, 255));[m
[32m+[m[32m        btnDelete.setText("X√≥a");[m
[32m+[m[32m        btnDelete.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));[m
[32m+[m[32m        btnDelete.setFocusPainted(false);[m
[32m+[m[32m        btnDelete.setPreferredSize(new java.awt.Dimension(95, 40));[m
[32m+[m[32m        btnDelete.setMinimumSize(new java.awt.Dimension(95, 40));[m
[32m+[m[32m        btnDelete.setMaximumSize(new java.awt.Dimension(95, 40));[m
[32m+[m[32m        btnDelete.addActionListener(new java.awt.event.ActionListener() {[m
[32m+[m[32m            public void actionPerformed(java.awt.event.ActionEvent evt) {[m
[32m+[m[32m                btnDeleteActionPerformed(evt);[m
[32m+[m[32m            }[m
[32m+[m[32m        });[m
[32m+[m[32m        actionPanel.add(btnDelete);[m
[32m+[m
         headerPanel.add(actionPanel, java.awt.BorderLayout.WEST);[m
 [m
         pnAll.add(headerPanel, java.awt.BorderLayout.NORTH);[m
[36m@@ -561,17 +636,55 @@[m [mpublic class GD_QuanLyNhaCungCap extends javax.swing.JPanel {[m
     }// </editor-fold>//GEN-END:initComponents[m
 [m
     private void btnOpenModalAddSupActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnOpenModalAddSupActionPerformed[m
[31m-        // TODO: Implement search functionality[m
[32m+[m[32m        performSearch();[m
     }//GEN-LAST:event_btnOpenModalAddSupActionPerformed[m
 [m
     private void txtSearchSupplierActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtSearchSupplierActionPerformed[m
[31m-[m
[32m+[m[32m        performSearch();[m
     }//GEN-LAST:event_txtSearchSupplierActionPerformed[m
[32m+[m[41m    [m
[32m+[m[32m    private void performSearch() {[m
[32m+[m[32m        String keyword = txtSearchSupplier.getText().trim();[m
[32m+[m[41m        [m
[32m+[m[32m        // X√≥a d·ªØ li·ªáu c≈© trong b·∫£ng[m
[32m+[m[32m        tableDesign.getModelTable().setRowCount(0);[m
[32m+[m[41m        [m
[32m+[m[32m        try {[m
[32m+[m[32m            List<vn.edu.iuh.fit.iuhpharmacitymanagement.entity.NhaCungCap> danhSachNCC;[m
[32m+[m[41m            [m
[32m+[m[32m            // N·∫øu t·ª´ kh√≥a r·ªóng, load t·∫•t c·∫£[m
[32m+[m[32m            if (keyword.isEmpty()) {[m
[32m+[m[32m                danhSachNCC = nhaCungCapBUS.layTatCaNhaCungCap();[m
[32m+[m[32m            } else {[m
[32m+[m[32m                // T√¨m ki·∫øm theo t√™n, s·ªë ƒëi·ªán tho·∫°i, email[m
[32m+[m[32m                danhSachNCC = nhaCungCapBUS.timKiemTheoText(keyword);[m
[32m+[m[32m            }[m
[32m+[m[41m            [m
[32m+[m[32m            // Th√™m k·∫øt qu·∫£ t√¨m ki·∫øm v√†o b·∫£ng[m
[32m+[m[32m            for (vn.edu.iuh.fit.iuhpharmacitymanagement.entity.NhaCungCap ncc : danhSachNCC) {[m
[32m+[m[32m                tableDesign.getModelTable().addRow(new Object[]{[m
[32m+[m[32m                    ncc.getMaNhaCungCap(),[m
[32m+[m[32m                    ncc.getTenNhaCungCap(),[m
[32m+[m[32m                    ncc.getDiaChi(),[m
[32m+[m[32m                    ncc.getSoDienThoai(),[m
[32m+[m[32m                    ncc.getEmail(),[m
[32m+[m[32m                    ncc.getMaSoThue()[m
[32m+[m[32m                });[m
[32m+[m[32m            }[m
[32m+[m[41m            [m
[32m+[m[32m            // Hi·ªÉn th·ªã th√¥ng b√°o n·∫øu kh√¥ng t√¨m th·∫•y[m
[32m+[m[32m            if (danhSachNCC.isEmpty() && !keyword.isEmpty()) {[m
[32m+[m[32m                Notifications.getInstance().show(Notifications.Type.INFO, Notifications.Location.TOP_CENTER, 2000, "Kh√¥ng t√¨m th·∫•y nh√† cung c·∫•p n√†o!");[m
[32m+[m[32m            }[m
[32m+[m[32m        } catch (Exception e) {[m
[32m+[m[32m            Notifications.getInstance().show(Notifications.Type.ERROR, Notifications.Location.TOP_CENTER, 3000, "L·ªói khi t√¨m ki·∫øm: " + e.getMessage());[m
[32m+[m[32m        }[m
[32m+[m[32m    }[m
 [m
     private void btnUpdateActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnUpdateActionPerformed[m
         int selectedRow = tableDesign.getTable().getSelectedRow();[m
         if (selectedRow == -1) {[m
[31m-            javax.swing.JOptionPane.showMessageDialog(this, "Vui l√≤ng ch·ªçn nh√† cung c·∫•p c·∫ßn s·ª≠a!", "Th√¥ng b√°o", javax.swing.JOptionPane.WARNING_MESSAGE);[m
[32m+[m[32m            Notifications.getInstance().show(Notifications.Type.WARNING, Notifications.Location.TOP_CENTER, 2500, "Vui l√≤ng ch·ªçn nh√† cung c·∫•p c·∫ßn s·ª≠a!");[m
             return;[m
         }[m
 [m
[36m@@ -628,7 +741,77 @@[m [mpublic class GD_QuanLyNhaCungCap extends javax.swing.JPanel {[m
     }//GEN-LAST:event_txtSupEmailEditActionPerformed[m
 [m
     private void btnSupplierEditActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnSupplierEditActionPerformed[m
[31m-        // TODO add your handling code here:[m
[32m+[m[32m        try {[m
[32m+[m[32m            // L·∫•y d·ªØ li·ªáu t·ª´ form[m
[32m+[m[32m            String tenNCC = txtSupNameEdit.getText().trim();[m
[32m+[m[32m            String sdt = txtSupPhoneEdit.getText().trim();[m
[32m+[m[32m            String diaChi = txtSupAddressEdit.getText().trim();[m
[32m+[m[32m            String email = txtSupEmailEdit.getText().trim();[m
[32m+[m[32m            String maSoThue = txtSupTaxCodeEdit.getText().trim();[m
[32m+[m[41m            [m
[32m+[m[32m            // Validation[m
[32m+[m[32m            if (tenNCC.isEmpty()) {[m
[32m+[m[32m                Notifications.getInstance().show(Notifications.Type.WARNING, Notifications.Location.TOP_CENTER, 2500, "Vui l√≤ng nh·∫≠p t√™n nh√† cung c·∫•p!");[m
[32m+[m[32m                txtSupNameEdit.requestFocus();[m
[32m+[m[32m                return;[m
[32m+[m[32m            }[m
[32m+[m[41m            [m
[32m+[m[32m            if (sdt.isEmpty() || !sdt.matches("^0[0-9]{9}$")) {[m
[32m+[m[32m                Notifications.getInstance().show(Notifications.Type.WARNING, Notifications.Location.TOP_CENTER, 2500, "S·ªë ƒëi·ªán tho·∫°i ph·∫£i b·∫Øt ƒë·∫ßu b·∫±ng 0 v√† g·ªìm 10 ch·ªØ s·ªë!");[m
[32m+[m[32m                txtSupPhoneEdit.requestFocus();[m
[32m+[m[32m                return;[m
[32m+[m[32m            }[m
[32m+[m[41m            [m
[32m+[m[32m            if (diaChi.isEmpty()) {[m
[32m+[m[32m                Notifications.getInstance().show(Notifications.Type.WARNING, Notifications.Location.TOP_CENTER, 2500, "Vui l√≤ng nh·∫≠p ƒë·ªãa ch·ªâ!");[m
[32m+[m[32m                txtSupAddressEdit.requestFocus();[m
[32m+[m[32m                return;[m
[32m+[m[32m            }[m
[32m+[m[41m            [m
[32m+[m[32m            if (email.isEmpty() || !email.matches("^[^@]+@[^@]+\\.[a-zA-Z]{2,}$")) {[m
[32m+[m[32m                Notifications.getInstance().show(Notifications.Type.WARNING, Notifications.Location.TOP_CENTER, 2500, "Email kh√¥ng ƒë√∫ng ƒë·ªãnh d·∫°ng!");[m
[32m+[m[32m                txtSupEmailEdit.requestFocus();[m
[32m+[m[32m                return;[m
[32m+[m[32m            }[m
[32m+[m[41m            [m
[32m+[m[32m            if (maSoThue.isEmpty() || !maSoThue.matches("^[0-9]{10}(-[0-9]{3})?$")) {[m
[32m+[m[32m                Notifications.getInstance().show(Notifications.Type.WARNING, Notifications.Location.TOP_CENTER, 2500, "M√£ s·ªë thu·∫ø ph·∫£i g·ªìm 10 s·ªë ho·∫∑c 13 k√Ω t·ª± d·∫°ng 0123456789-001!");[m
[32m+[m[32m                txtSupTaxCodeEdit.requestFocus();[m
[32m+[m[32m                return;[m
[32m+[m[32m            }[m
[32m+[m[41m            [m
[32m+[m[32m            // T·∫°o ƒë·ªëi t∆∞·ª£ng NhaCungCap[m
[32m+[m[32m            vn.edu.iuh.fit.iuhpharmacitymanagement.entity.NhaCungCap ncc = new vn.edu.iuh.fit.iuhpharmacitymanagement.entity.NhaCungCap();[m
[32m+[m[32m            ncc.setMaNhaCungCap(supplierIdEdit);[m
[32m+[m[32m            ncc.setTenNhaCungCap(tenNCC);[m
[32m+[m[32m            ncc.setSoDienThoai(sdt);[m
[32m+[m[32m            ncc.setDiaChi(diaChi);[m
[32m+[m[32m            ncc.setEmail(email);[m
[32m+[m[32m            ncc.setMaSoThue(maSoThue);[m
[32m+[m[41m            [m
[32m+[m[32m            // C·∫≠p nh·∫≠t trong database[m
[32m+[m[32m            boolean success = nhaCungCapBUS.capNhatNhaCungCap(ncc);[m
[32m+[m[41m            [m
[32m+[m[32m            if (success) {[m
[32m+[m[32m                // C·∫≠p nh·∫≠t tr√™n b·∫£ng[m
[32m+[m[32m                int selectedRow = tableDesign.getTable().getSelectedRow();[m
[32m+[m[32m                tableDesign.getTable().setValueAt(ncc.getTenNhaCungCap(), selectedRow, 1);[m
[32m+[m[32m                tableDesign.getTable().setValueAt(ncc.getDiaChi(), selectedRow, 2);[m
[32m+[m[32m                tableDesign.getTable().setValueAt(ncc.getSoDienThoai(), selectedRow, 3);[m
[32m+[m[32m                tableDesign.getTable().setValueAt(ncc.getEmail(), selectedRow, 4);[m
[32m+[m[32m                tableDesign.getTable().setValueAt(ncc.getMaSoThue(), selectedRow, 5);[m
[32m+[m[41m                [m
[32m+[m[32m                // Clear form v√† ƒë√≥ng modal[m
[32m+[m[32m                clearData(txtSupNameEdit, txtSupPhoneEdit, txtSupEmailEdit, txtSupAddressEdit, txtSupTaxCodeEdit);[m
[32m+[m[32m                modelSupplierEdit.dispose();[m
[32m+[m[41m                [m
[32m+[m[32m                Notifications.getInstance().show(Notifications.Type.SUCCESS, Notifications.Location.TOP_CENTER, 2500, "C·∫≠p nh·∫≠t nh√† cung c·∫•p th√†nh c√¥ng!");[m
[32m+[m[32m            } else {[m
[32m+[m[32m                Notifications.getInstance().show(Notifications.Type.ERROR, Notifications.Location.TOP_CENTER, 3000, "C·∫≠p nh·∫≠t nh√† cung c·∫•p th·∫•t b·∫°i!");[m
[32m+[m[32m            }[m
[32m+[m[32m        } catch (Exception e) {[m
[32m+[m[32m            Notifications.getInstance().show(Notifications.Type.ERROR, Notifications.Location.TOP_CENTER, 3000, "L·ªói: " + e.getMessage());[m
[32m+[m[32m        }[m
     }//GEN-LAST:event_btnSupplierEditActionPerformed[m
 [m
     private void modelSupplierEditKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_modelSupplierEditKeyReleased[m
[36m@@ -646,7 +829,86 @@[m [mpublic class GD_QuanLyNhaCungCap extends javax.swing.JPanel {[m
     }//GEN-LAST:event_btnSupplierExitActionPerformed[m
 [m
     private void btnSupplierAddActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnSupplierAddActionPerformed[m
[31m-        // TODO add your handling code here:[m
[32m+[m[32m        try {[m
[32m+[m[32m            // L·∫•y d·ªØ li·ªáu t·ª´ form[m
[32m+[m[32m            String tenNCC = txtSupNameAdd.getText().trim();[m
[32m+[m[32m            String sdt = txtSupPhoneAdd.getText().trim();[m
[32m+[m[32m            String diaChi = txtSupAddressAdd.getText().trim();[m
[32m+[m[32m            String email = txtSupEmailAdd.getText().trim();[m
[32m+[m[32m            String maSoThue = txtSupTaxCodeAdd.getText().trim();[m
[32m+[m[41m            [m
[32m+[m[32m            // Validation[m
[32m+[m[32m            if (tenNCC.isEmpty()) {[m
[32m+[m[32m                Notifications.getInstance().show(Notifications.Type.WARNING, Notifications.Location.TOP_CENTER, 2500, "Vui l√≤ng nh·∫≠p t√™n nh√† cung c·∫•p!");[m
[32m+[m[32m                txtSupNameAdd.requestFocus();[m
[32m+[m[32m                return;[m
[32m+[m[32m            }[m
[32m+[m[41m            [m
[32m+[m[32m            if (sdt.isEmpty() || !sdt.matches("^0[0-9]{9}$")) {[m
[32m+[m[32m                Notifications.getInstance().show(Notifications.Type.WARNING, Notifications.Location.TOP_CENTER, 2500, "S·ªë ƒëi·ªán tho·∫°i ph·∫£i b·∫Øt ƒë·∫ßu b·∫±ng 0 v√† g·ªìm 10 ch·ªØ s·ªë!");[m
[32m+[m[32m                txtSupPhoneAdd.requestFocus();[m
[32m+[m[32m                return;[m
[32m+[m[32m            }[m
[32m+[m[41m            [m
[32m+[m[32m            if (diaChi.isEmpty()) {[m
[32m+[m[32m                Notifications.getInstance().show(Notifications.Type.WARNING, Notifications.Location.TOP_CENTER, 2500, "Vui l√≤ng nh·∫≠p ƒë·ªãa ch·ªâ!");[m
[32m+[m[32m                txtSupAddressAdd.requestFocus();[m
[32m+[m[32m                return;[m
[32m+[m[32m            }[m
[32m+[m[41m            [m
[32m+[m[32m            if (email.isEmpty() || !email.matches("^[^@]+@[^@]+\\.[a-zA-Z]{2,}$")) {[m
[32m+[m[32m                Notifications.getInstance().show(Notifications.Type.WARNING, Notifications.Location.TOP_CENTER, 2500, "Email kh√¥ng ƒë√∫ng ƒë·ªãnh d·∫°ng!");[m
[32m+[m[32m                txtSupEmailAdd.requestFocus();[m
[32m+[m[32m                return;[m
[32m+[m[32m            }[m
[32m+[m[41m            [m
[32m+[m[32m            if (maSoThue.isEmpty() || !maSoThue.matches("^[0-9]{10}(-[0-9]{3})?$")) {[m
[32m+[m[32m                Notifications.getInstance().show(Notifications.Type.WARNING, Notifications.Location.TOP_CENTER, 2500, "M√£ s·ªë thu·∫ø ph·∫£i g·ªìm 10 s·ªë ho·∫∑c 13 k√Ω t·ª± d·∫°ng 0123456789-001!");[m
[32m+[m[32m                txtSupTaxCodeAdd.requestFocus();[m
[32m+[m[32m                return;[m
[32m+[m[32m            }[m
[32m+[m[41m            [m
[32m+[m[32m            // Ki·ªÉm tra tr√πng s·ªë ƒëi·ªán tho·∫°i[m
[32m+[m[32m            vn.edu.iuh.fit.iuhpharmacitymanagement.entity.NhaCungCap nccTrungSDT = nhaCungCapBUS.layNhaCungCapTheoSoDienThoai(sdt);[m
[32m+[m[32m            if (nccTrungSDT != null) {[m
[32m+[m[32m                Notifications.getInstance().show(Notifications.Type.WARNING, Notifications.Location.TOP_CENTER, 2500, "S·ªë ƒëi·ªán tho·∫°i ƒë√£ t·ªìn t·∫°i!");[m
[32m+[m[32m                txtSupPhoneAdd.requestFocus();[m
[32m+[m[32m                return;[m
[32m+[m[32m            }[m
[32m+[m[41m            [m
[32m+[m[32m            // T·∫°o ƒë·ªëi t∆∞·ª£ng NhaCungCap[m
[32m+[m[32m            vn.edu.iuh.fit.iuhpharmacitymanagement.entity.NhaCungCap ncc = new vn.edu.iuh.fit.iuhpharmacitymanagement.entity.NhaCungCap();[m
[32m+[m[32m            ncc.setTenNhaCungCap(tenNCC);[m
[32m+[m[32m            ncc.setSoDienThoai(sdt);[m
[32m+[m[32m            ncc.setDiaChi(diaChi);[m
[32m+[m[32m            ncc.setEmail(email);[m
[32m+[m[32m            ncc.setMaSoThue(maSoThue);[m
[32m+[m[41m            [m
[32m+[m[32m            // Th√™m v√†o database[m
[32m+[m[32m            boolean success = nhaCungCapBUS.taoNhaCungCap(ncc);[m
[32m+[m[41m            [m
[32m+[m[32m            if (success) {[m
[32m+[m[32m                // Th√™m v√†o b·∫£ng[m
[32m+[m[32m                tableDesign.getModelTable().addRow(new Object[]{[m
[32m+[m[32m                    ncc.getMaNhaCungCap(),[m
[32m+[m[32m                    ncc.getTenNhaCungCap(),[m
[32m+[m[32m                    ncc.getDiaChi(),[m
[32m+[m[32m                    ncc.getSoDienThoai(),[m
[32m+[m[32m                    ncc.getEmail(),[m
[32m+[m[32m                    ncc.getMaSoThue()[m
[32m+[m[32m                });[m
[32m+[m[41m                [m
[32m+[m[32m                // Clear form v√† ƒë√≥ng modal[m
[32m+[m[32m                clearData(txtSupNameAdd, txtSupPhoneAdd, txtSupEmailAdd, txtSupAddressAdd, txtSupTaxCodeAdd);[m
[32m+[m[32m                modelSupplierAdd.dispose();[m
[32m+[m[41m                [m
[32m+[m[32m                Notifications.getInstance().show(Notifications.Type.SUCCESS, Notifications.Location.TOP_CENTER, 2500, "Th√™m nh√† cung c·∫•p th√†nh c√¥ng!");[m
[32m+[m[32m            } else {[m
[32m+[m[32m                Notifications.getInstance().show(Notifications.Type.ERROR, Notifications.Location.TOP_CENTER, 3000, "Th√™m nh√† cung c·∫•p th·∫•t b·∫°i!");[m
[32m+[m[32m            }[m
[32m+[m[32m        } catch (Exception e) {[m
[32m+[m[32m            Notifications.getInstance().show(Notifications.Type.ERROR, Notifications.Location.TOP_CENTER, 3000, "L·ªói: " + e.getMessage());[m
[32m+[m[32m        }[m
     }//GEN-LAST:event_btnSupplierAddActionPerformed[m
 [m
     private void txtSupEmailAddActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtSupEmailAddActionPerformed[m
[36m@@ -669,11 +931,46 @@[m [mpublic class GD_QuanLyNhaCungCap extends javax.swing.JPanel {[m
         // TODO add your handling code here:[m
     }//GEN-LAST:event_txtSupPhoneAddActionPerformed[m
 [m
[32m+[m[32m    private void btnDeleteActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnDeleteActionPerformed[m
[32m+[m[32m        int selectedRow = tableDesign.getTable().getSelectedRow();[m
[32m+[m[32m        if (selectedRow == -1) {[m
[32m+[m[32m            Notifications.getInstance().show(Notifications.Type.WARNING, Notifications.Location.TOP_CENTER, 2500, "Vui l√≤ng ch·ªçn nh√† cung c·∫•p c·∫ßn x√≥a!");[m
[32m+[m[32m            return;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        // L·∫•y th√¥ng tin t·ª´ b·∫£ng[m
[32m+[m[32m        String maNCC = tableDesign.getTable().getValueAt(selectedRow, 0).toString();[m
[32m+[m[32m        String tenNCC = tableDesign.getTable().getValueAt(selectedRow, 1).toString();[m
[32m+[m
[32m+[m[32m        // Hi·ªÉn th·ªã dialog x√°c nh·∫≠n[m
[32m+[m[32m        int confirm = javax.swing.JOptionPane.showConfirmDialog([m
[32m+[m[32m            this,[m[41m [m
[32m+[m[32m            "B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën x√≥a nh√† cung c·∫•p \"" + tenNCC + "\" kh√¥ng?",[m[41m [m
[32m+[m[32m            "X√°c nh·∫≠n x√≥a",[m